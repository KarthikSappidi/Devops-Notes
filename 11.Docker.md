# Docker
- Docker, so called containerisation platform, to simplify application deployment.
- Docker is very good at microsericves based applications,when i say microservices these are small apllication that work together big application.
- **Microservices**: https://aws.amazon.com/microservices/
- Earlier we used to have monolothic - every thing kept as one single application,now if you break that application into multiple thigs is called microservies.containers are very good at microservices.
- The term microservies is basicaaly indicating if you smaller apllications to depply with respect to individual services then docker is the popular tool right now in the market.
- **Virtualisation**: It involves creating virtual version of a hardware platform,allowing multiple operators to run on a single machine.
- simple you have one piece of big hardware now you want to classify that harware to different categories and then start posting the resources is a concept called virtualisation.
- **Containerisation**:is lightweight and efficient, as it allows multiple applications to run on the same operating system, without the need for a complete virtual machine. This can be especially useful for running microservices based architecture.
- **Docker**:Docker is an open-source containerization platform which helps you create containers that allows developers to easily package, deploy, and run their applications in any environment(AWS/Azure/Any Cloud/ Any Server/Laptop/CentOS/Ubuntu/etc).

# Docker Architecture
- Docker architecture consists of Docker Daemon / Docker Service & Docker Client & Docker Registry
- Docker Registry hub.docker.com registry stores Docker images(softwares postgres, node, nginx etc) and allows them to be shared
- Docker Client / Docker CLI sends commands to the daemon
- Docker Daemon is responsible for managing Docker objects such as images, containers etc
- https://docs.docker.com/get-started/images/docker-architecture.png

# Docker Setup
- Install Docker using following commands
```bash
docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
```
we need to give soecial permission to docker, if you want run run docker witout sudo access.
```bash
sudo usermod -aG docker ubuntu
logout 
```

# Docker Images and Containers
- Docker Containers need images, without images we cannot run containers
- To get docker image use : docker pull <image>
- Containers have running modes 1: Interative Mode(Foreground) 2: Detached Mode(Background)
- To create a container in Detached Mode use command
- docker container run -dt --name <name-of-container> <name-of-image>
- To create a container in Interative Mode use command
- docker container run -it --name <name-of-container> <name-of-image>
- command to stop running images[docker container stop <name-of container]
- sudo systemctl stop (nginx)
- command to check the properties of the container [docker container inspect <name-of-Container>
- when we can create a container we need to give port forwarding option in order to access from outside
- docker container run -dt --name web1 -p 8080-8080 nginx.[8080-externally:8080-internally]
- In the container world, host network is seperate and container network is seperate, host will have its own range of ports and container will have its own range of port now we need to map it with port forwarding.


# Docker port rane
- docker ephemeral port rane 32768-61000(default)
- docker container run -dt --name <name-of-container> -P <name-of-image>

- in order to remove running containers forcefully the commmmand is docker container rm -f <name-of-container>

# Docker Execution
- docker container exec 
- In oder to login into the container --docker container exec -it <name-of-container> bash
- cd /usr/share/nginx/html  =====/var/www/html
- In order to remove the old code inside rm *.html
- git clone <URL> .  (Here dot represents current location)
- In order to install git --   apt update -y
- apt install -y git
  
# Docker Volumes
- Docker Volumes are a feature in Docker that allow for data to be stored and shared between containers.
- Volumes provide a way to persist data generated by and used by Docker containers.
- Docker Volumes is that they can be used to store data separately from the container itself.
- This means that even if a container is deleted, the data stored in the volume will remain.
- [ docker container run -dt --name <name-of container> -p 8080:80 -v /home/ubuntu/login-app:/usr/share/ngins/html nginx ]
- volumes will help you get the data or share the data across the containers.

# Customize Docker Images
- Dockerizing an application is the process of converting an application to run within a Docker container.
- Docker can build images automatically by reading the instructions from a Dockerfile.
- A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image.
- we need a docker file in order to create a docker imaage
- And then run the command [ docker build -t karthiksappidi/<image-name> .]
- In order to create a docker file
  ```bash
  # comment
  # FROM -to set the base image we use from
  FROM nginx

  # COPY -to copy files from host to above image
  COPY . /usr/share/nginx/html
  ```

- And then test the image and deploy
- docker container run -dt --name <name-of-container> -p 8080:80 karthiksappidi/<name-of-image>
- -t is bascially heplp you to which account you want to tag
-  docker push <name-of-image>
- get acces token in order to push

  
